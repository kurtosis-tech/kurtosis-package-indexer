syntax = "proto3";
package kurtosis_package_indexer;

option go_package = "github.com/kurtosis-tech/kurtosis-package-indexer/api/golang/generated";

import "google/protobuf/empty.proto";

service KurtosisPackageIndexer {
  rpc IsAvailable (google.protobuf.Empty) returns (google.protobuf.Empty) {};

  rpc GetPackages(google.protobuf.Empty) returns (GetPackagesResponse) {};

  rpc Reindex(google.protobuf.Empty) returns (google.protobuf.Empty) {};
}

message GetPackagesResponse {
  repeated KurtosisPackage packages = 1;
}

message KurtosisPackage {
  string name = 1;

  repeated PackageArg args = 2;

  uint64 stars = 3;

  string description = 4;

  string url = 5;
}

message PackageArg {
  string name = 1;

  bool is_required = 2;

  optional PackageArgType type = 3;
}

enum PackageArgType {
  BOOL = 0;
  STRING = 1;
  INTEGER = 2;
  FLOAT = 3;
}
